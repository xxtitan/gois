# gois - WHOIS åŸŸåæŸ¥è¯¢å‘½ä»¤è¡Œå·¥å…·

[![Go Version](https://img.shields.io/badge/go-1.25-blue.svg)](https://golang.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€å·¥ç¨‹åŒ–çš„ WHOIS åŸŸåæŸ¥è¯¢å‘½ä»¤è¡Œå·¥å…·ï¼Œä½¿ç”¨ Golang å¼€å‘ï¼Œæ”¯æŒå•ä¸ªæŸ¥è¯¢ã€æ‰¹é‡æŸ¥è¯¢ã€åŸŸåç”Ÿæˆã€å¹¶å‘æ§åˆ¶å’Œå¤šç§è¾“å‡ºæ¨¡å¼ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… **å•ä¸ªåŸŸåæŸ¥è¯¢** - å¿«é€ŸæŸ¥è¯¢ä»»æ„åŸŸåçš„ WHOIS ä¿¡æ¯
- âœ… **æ‰¹é‡åŸŸåæŸ¥è¯¢** - ä»æ–‡ä»¶å¯¼å…¥åŸŸååˆ—è¡¨è¿›è¡Œæ‰¹é‡æŸ¥è¯¢
- âœ… **åŸŸåç”Ÿæˆ** - æ”¯æŒæ¨¡å¼ç”ŸæˆåŸŸåï¼ˆå¦‚ `[a-z]{3}.com` ç”Ÿæˆæ‰€æœ‰ 3 å­—ç¬¦åŸŸåï¼‰
- âœ… **å¹¶å‘æ§åˆ¶** - å¯è‡ªå®šä¹‰å¹¶å‘çº¿ç¨‹æ•°ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡
- âœ… **ä¸¤ç§æŸ¥è¯¢æ¨¡å¼**ï¼š
  - **normal**: æ˜¾ç¤ºå®Œæ•´çš„ WHOIS ä¿¡æ¯ï¼ˆæ³¨å†Œå•†ã€æ³¨å†Œå±€è¯¦ç»†ä¿¡æ¯ï¼‰
  - **simple**: ä»…åˆ¤æ–­åŸŸåæ˜¯å¦å¯ç”¨ï¼ˆæœªæ³¨å†Œï¼‰
- âœ… **ç»“æœæ–‡ä»¶è¾“å‡º** - æŸ¥è¯¢ç»“æœå®æ—¶åŒæ­¥å†™å…¥æ–‡ä»¶
  - normal æ¨¡å¼ï¼šæ–‡æœ¬æ ¼å¼
  - simple æ¨¡å¼ï¼šCSV æ ¼å¼ï¼ˆä¾¿äºå¯¼å…¥ Excel ç­‰å·¥å…·ï¼‰
- âœ… **ä»£ç†æ”¯æŒ** - æ”¯æŒ SOCKS5 ä»£ç†
- âœ… **è‡ªå®šä¹‰è¶…æ—¶** - å¯è®¾ç½®æŸ¥è¯¢è¶…æ—¶æ—¶é—´
- âœ… **å¼‚å¸¸å¤„ç†** - å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæç¤ºä¿¡æ¯
- âœ… **é‡è¯•æœºåˆ¶** - æŸ¥è¯¢å¤±è´¥è‡ªåŠ¨é‡è¯•
- âœ… **è¿›åº¦è¿½è¸ª** - æ‰¹é‡æŸ¥è¯¢æ—¶æ˜¾ç¤ºå®æ—¶è¿›åº¦

## ğŸ“¦ å®‰è£…

### æ–¹å¼ 1: ä»æºç ç¼–è¯‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/gois.git
cd gois

# ç¼–è¯‘
go build -o gois .

# å®‰è£…åˆ°ç³»ç»Ÿè·¯å¾„ï¼ˆå¯é€‰ï¼‰
go install
```

### æ–¹å¼ 2: ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶

ä» [Releases](https://github.com/yourusername/gois/releases) é¡µé¢ä¸‹è½½é€‚åˆä½ ç³»ç»Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æŸ¥è¯¢å•ä¸ªåŸŸå

```bash
# æ™®é€šæ¨¡å¼ - æ˜¾ç¤ºå®Œæ•´ WHOIS ä¿¡æ¯
gois query github.com

# ç®€å•æ¨¡å¼ - ä»…åˆ¤æ–­æ˜¯å¦å¯ç”¨
gois query github.com -m simple
```

### 2. æ‰¹é‡æŸ¥è¯¢åŸŸå

é¦–å…ˆåˆ›å»ºåŸŸååˆ—è¡¨æ–‡ä»¶ `domains.txt`ï¼š

```text
github.com
google.com
python.org
```

ç„¶åæ‰§è¡Œæ‰¹é‡æŸ¥è¯¢ï¼š

```bash
# æ‰¹é‡æŸ¥è¯¢ï¼ˆé»˜è®¤å¹¶å‘æ•° 5ï¼‰
gois batch domains.txt

# æŒ‡å®šå¹¶å‘æ•°ä¸º 10
gois batch domains.txt -c 10

# ç®€å•æ¨¡å¼æ‰¹é‡æŸ¥è¯¢
gois batch domains.txt -m simple -c 10
```

### 3. ä»æ¨¡å¼ç”ŸæˆåŸŸåå¹¶æŸ¥è¯¢

```bash
# ç”Ÿæˆæ‰€æœ‰ 3 å­—ç¬¦å°å†™å­—æ¯åŸŸåï¼ˆå…± 17,576 ä¸ªï¼‰
gois generate "[a-z]{3}.com" -m simple -c 10

# ç”Ÿæˆè‡ªå®šä¹‰å­—ç¬¦é›†åŸŸåï¼ˆabc çš„ 2 å­—ç¬¦ç»„åˆï¼Œå…± 9 ä¸ªï¼‰
gois generate "[abc]{2}.com" -m simple

# ç”Ÿæˆæ··åˆæ¨¡å¼åŸŸåï¼ˆtest + ä¸¤ä½æ•°å­—ï¼Œå…± 100 ä¸ªï¼‰
gois generate "test[0-9]{2}.net" -m simple

# ç”Ÿæˆå¹¶è¾“å‡ºåˆ°æ–‡ä»¶
gois generate "[0-9]{4}.io" -m simple -o results.csv
```

### 4. è¾“å‡ºç»“æœåˆ°æ–‡ä»¶

```bash
# å•ä¸ªæŸ¥è¯¢è¾“å‡ºåˆ°æ–‡ä»¶
gois query github.com -o result.txt

# æ‰¹é‡æŸ¥è¯¢è¾“å‡ºåˆ° CSVï¼ˆsimple æ¨¡å¼ï¼‰
gois batch domains.txt -o results.csv -m simple
```

### 5. ä½¿ç”¨ä»£ç†

```bash
# SOCKS5 ä»£ç†
gois query github.com -p socks5://localhost:7897

# å¸¦ç”¨æˆ·è®¤è¯çš„ä»£ç†
gois query github.com -p socks5://user:pass@localhost:7897
```

## ğŸ“– è¯¦ç»†ä½¿ç”¨è¯´æ˜

### å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `gois query [domain]` | æŸ¥è¯¢å•ä¸ªåŸŸå |
| `gois batch [file]` | æ‰¹é‡æŸ¥è¯¢åŸŸå |
| `gois generate [pattern]` | ä»æ¨¡å¼ç”ŸæˆåŸŸåå¹¶æŸ¥è¯¢ |
| `gois help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |

### å…¨å±€å‚æ•°

| å‚æ•° | ç®€å†™ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|------|--------|
| `--timeout` | `-t` | æŸ¥è¯¢è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | `10` |
| `--proxy` | `-p` | ä»£ç†é…ç½® | æ—  |
| `--output` | `-o` | ç»“æœè¾“å‡ºæ–‡ä»¶è·¯å¾„ | æ— ï¼ˆä»…è¾“å‡ºåˆ°ç»ˆç«¯ï¼‰ |
| `--mode` | `-m` | æŸ¥è¯¢æ¨¡å¼ï¼š`normal` / `simple` | `normal` |
| `--retries` | `-r` | æŸ¥è¯¢å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•° | `3` |
| `--concurrency` | `-c` | æ‰¹é‡æŸ¥è¯¢æ—¶çš„å¹¶å‘æ•° | `5` |
| `--whois-server` | `-w` | æŒ‡å®š WHOIS æœåŠ¡å™¨ | è‡ªåŠ¨é€‰æ‹© |

### åŸŸåç”Ÿæˆæ¨¡å¼è¯­æ³•

æ”¯æŒçš„æ¨¡å¼è¯­æ³•ï¼š

- `[a-z]`: å°å†™å­—æ¯ a-z
- `[A-Z]`: å¤§å†™å­—æ¯ A-Z
- `[0-9]`: æ•°å­— 0-9
- `[abc]`: è‡ªå®šä¹‰å­—ç¬¦é›†
- `{n}`: é‡å¤ n æ¬¡

ç¤ºä¾‹ï¼š

| æ¨¡å¼ | è¯´æ˜ | ç”Ÿæˆæ•°é‡ |
|------|------|----------|
| `[a-z]{3}.com` | 3 å­—ç¬¦å°å†™å­—æ¯åŸŸå | 17,576 |
| `test[0-9]{2}.net` | test + ä¸¤ä½æ•°å­— | 100 |
| `[abc]{2}.org` | abc çš„ 2 å­—ç¬¦ç»„åˆ | 9 |
| `[a-z]{2}[0-9].com` | 2 å­—æ¯ + 1 æ•°å­— | 2,600 |

### æŸ¥çœ‹å¸®åŠ©

```bash
# æŸ¥çœ‹æ€»ä½“å¸®åŠ©
gois --help

# æŸ¥çœ‹ç‰¹å®šå‘½ä»¤çš„å¸®åŠ©
gois query --help
gois batch --help
gois generate --help
```

## ğŸ“Š è¾“å‡ºæ ¼å¼

### Normal æ¨¡å¼

**ç»ˆç«¯è¾“å‡ºï¼š**

```
================================================================================
åŸŸå: github.com
--------------------------------------------------------------------------------

æ³¨å†Œå•† WHOIS ç»“æœ:
Domain Name: github.com
Registry Domain ID: 1264983250_DOMAIN_COM-VRSN
Registrar WHOIS Server: whois.markmonitor.com
...

æ³¨å†Œå±€ WHOIS ç»“æœ:
   Domain Name: GITHUB.COM
   Registry Domain ID: 1264983250_DOMAIN_COM-VRSN
...
================================================================================
```

### Simple æ¨¡å¼

**ç»ˆç«¯è¾“å‡ºï¼š**

```
github.com: å·²æ³¨å†Œ
google.com: å·²æ³¨å†Œ
available-domain.com: å¯ç”¨
```

**æ–‡ä»¶è¾“å‡ºï¼ˆCSV æ ¼å¼ï¼‰ï¼š**

```csv
domain,status
github.com,registered
google.com,registered
available-domain.com,available
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ£€æŸ¥åŸŸåæ˜¯å¦å¯ç”¨

```bash
gois query myawesomedomainname.com -m simple
```

### ç¤ºä¾‹ 2: æ‰¹é‡æ£€æŸ¥åŸŸåå¹¶å¯¼å‡º CSV

```bash
gois batch domains.txt -m simple -o available_domains.csv -c 10
```

**é€‚ç”¨åœºæ™¯ï¼š** åŸŸåé€‰æ‹©ã€åŸŸåç›‘æ§ã€æ‰¹é‡æ£€æŸ¥åŸŸåå¯ç”¨æ€§

### ç¤ºä¾‹ 3: é€šè¿‡ä»£ç†æŸ¥è¯¢å®Œæ•´ WHOIS ä¿¡æ¯

```bash
gois query github.com -p socks5://localhost:7897 -o github_whois.txt
```

**é€‚ç”¨åœºæ™¯ï¼š** éœ€è¦é€šè¿‡ä»£ç†è®¿é—®ã€é¿å… IP é™åˆ¶

### ç¤ºä¾‹ 4: å¤§æ‰¹é‡åŸŸåç”Ÿæˆä¸æŸ¥è¯¢

```bash
gois generate "[a-z]{3}.com" -c 20 -m simple -o results.csv
```

**é€‚ç”¨åœºæ™¯ï¼š** åŸŸåæŠ¢æ³¨ã€åŸŸåæŠ•èµ„

### ç¤ºä¾‹ 5: è‡ªå®šä¹‰å­—ç¬¦é›†åŸŸåæŸ¥è¯¢

```bash
gois generate "[0123456789]{4}.cn" -c 15 -m simple -o cn_numbers.csv
```

**é€‚ç”¨åœºæ™¯ï¼š** ç‰¹å®šç±»å‹åŸŸåæ‰¹é‡æ£€æŸ¥

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
gois/
â”œâ”€â”€ cmd/                       # Cobra å‘½ä»¤è¡Œå®šä¹‰
â”‚   â”œâ”€â”€ root.go               # æ ¹å‘½ä»¤
â”‚   â”œâ”€â”€ query.go              # æŸ¥è¯¢å‘½ä»¤
â”‚   â”œâ”€â”€ batch.go              # æ‰¹é‡å‘½ä»¤
â”‚   â””â”€â”€ generate.go           # ç”Ÿæˆå‘½ä»¤
â”œâ”€â”€ pkg/                      # å…¬å…±åŒ…
â”‚   â””â”€â”€ whois/                # WHOIS æ ¸å¿ƒåº“
â”‚       â”œâ”€â”€ client.go         # WHOIS å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ analyzer.go       # ç»“æœåˆ†æå™¨
â”‚       â”œâ”€â”€ errors.go         # é”™è¯¯å®šä¹‰
â”‚       â”œâ”€â”€ tlds.go           # TLD æ³¨å†Œè¡¨
â”‚       â””â”€â”€ tlds.json         # TLD æ•°æ®
â”œâ”€â”€ internal/                 # å†…éƒ¨åŒ…
â”‚   â””â”€â”€ cli/                  # CLI é€»è¾‘
â”‚       â”œâ”€â”€ query.go          # æŸ¥è¯¢é€»è¾‘
â”‚       â””â”€â”€ generator.go      # åŸŸåç”Ÿæˆå™¨
â”œâ”€â”€ main.go                   # å…¥å£
â”œâ”€â”€ go.mod                    # Go æ¨¡å—å®šä¹‰
â””â”€â”€ README.md                 # æœ¬æ–‡æ¡£
```

## ğŸ”§ æ ¸å¿ƒæ¨¡å—è¯´æ˜

### pkg/whois - WHOIS æ ¸å¿ƒåº“

ä¸»è¦åŠŸèƒ½ï¼š
- å»ºç«‹ WHOIS æœåŠ¡å™¨è¿æ¥
- æŸ¥è¯¢åŸŸåä¿¡æ¯
- ä»£ç†æ”¯æŒ
- TLD è‡ªåŠ¨è¯†åˆ«
- å­—ç¬¦ç¼–ç è‡ªåŠ¨å¤„ç†

æ ¸å¿ƒç±»å‹ï¼š
- `Client`: WHOIS å®¢æˆ·ç«¯
- `Analyzer`: ç»“æœåˆ†æå™¨
- `TLDRegistry`: TLD æ³¨å†Œè¡¨

### internal/cli - CLI é€»è¾‘

ä¸»è¦åŠŸèƒ½ï¼š
- æŸ¥è¯¢é€»è¾‘å°è£…
- å¹¶å‘æ§åˆ¶
- ç»“æœè¾“å‡ºï¼ˆç»ˆç«¯ + æ–‡ä»¶ï¼‰
- åŸŸåç”Ÿæˆå™¨
- è¿›åº¦è¿½è¸ª

æ ¸å¿ƒç±»å‹ï¼š
- `CLI`: å‘½ä»¤è¡Œå·¥å…·ç±»
- `QueryConfig`: æŸ¥è¯¢é…ç½®
- `QueryResult`: æŸ¥è¯¢ç»“æœ

### cmd - Cobra å‘½ä»¤

ä¸»è¦åŠŸèƒ½ï¼š
- å‘½ä»¤è¡Œå‚æ•°è§£æ
- å­å‘½ä»¤å®šä¹‰
- å¸®åŠ©ä¿¡æ¯

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **WHOIS æœåŠ¡å™¨é¢‘ç‡é™åˆ¶**
   - å¤§é‡æŸ¥è¯¢æ—¶å¯èƒ½è§¦å‘ WHOIS æœåŠ¡å™¨çš„é¢‘ç‡é™åˆ¶
   - å»ºè®®æ§åˆ¶å¹¶å‘æ•°ï¼ˆæ¨èï¼š5-10ï¼‰
   - å¯ä»¥ä½¿ç”¨ä»£ç†åˆ†æ•£è¯·æ±‚

2. **è¶…æ—¶è®¾ç½®**
   - é»˜è®¤è¶…æ—¶ 10 ç§’ï¼Œæ ¹æ®ç½‘ç»œæƒ…å†µå¯é€‚å½“è°ƒæ•´
   - ç½‘ç»œè¾ƒæ…¢æ—¶å»ºè®®å¢åŠ åˆ° 15-30 ç§’

3. **ä»£ç†é…ç½®**
   - å¦‚é‡åˆ°é¢‘ç‡é™åˆ¶ï¼Œå¯ä½¿ç”¨ä»£ç†
   - ç¡®ä¿ä»£ç†æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ

4. **åŸŸåç”Ÿæˆ**
   - æ³¨æ„ç”Ÿæˆçš„åŸŸåæ•°é‡ï¼Œé¿å…ç”Ÿæˆè¿‡å¤šåŸŸå
   - ä½¿ç”¨ `[a-z]{5}.com` ä¼šç”Ÿæˆ 11,881,376 ä¸ªåŸŸåï¼

5. **æ–‡ä»¶ç¼–ç **
   - æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç 
   - Windows ç»ˆç«¯å¯èƒ½æ˜¾ç¤ºä¸­æ–‡ä¹±ç ï¼Œä½†æ–‡ä»¶è¾“å‡ºæ­£å¸¸

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æŸ¥è¯¢è¶…æ—¶

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# å¢åŠ è¶…æ—¶æ—¶é—´åˆ° 30 ç§’
gois query example.com -t 30
```

### é—®é¢˜ 2: ä»£ç†è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# æ£€æŸ¥ä»£ç†é…ç½®æ˜¯å¦æ­£ç¡®
# ç¡®ä¿ä»£ç†æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
gois query example.com -p socks5://localhost:7897
```

### é—®é¢˜ 3: ç¼–è¯‘å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# ç¡®ä¿ Go ç‰ˆæœ¬ >= 1.18
go version

# æ¸…ç†å¹¶é‡æ–°è·å–ä¾èµ–
go clean -modcache
go mod tidy
go build
```

### é—®é¢˜ 4: WHOIS æœåŠ¡å™¨æ— å“åº”

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# å°è¯•æŒ‡å®šç‰¹å®šçš„ WHOIS æœåŠ¡å™¨
gois query example.com -w whois.verisign-grs.com
```

## ğŸ“š API ä½¿ç”¨

é™¤äº†å‘½ä»¤è¡Œå·¥å…·ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ Go ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ï¼š

```go
package main

import (
    "fmt"
    "time"
    
    "gois/pkg/whois"
)

func main() {
    // åˆ›å»ºå®¢æˆ·ç«¯
    client, err := whois.NewClient(10*time.Second, nil)
    if err != nil {
        panic(err)
    }
    
    // æŸ¥è¯¢åŸŸå
    result, err := client.Fetch("github.com", "")
    if err != nil {
        panic(err)
    }
    
    // åˆ†æç»“æœ
    analyzer := whois.NewAnalyzer()
    status := analyzer.GetDomainStatus(result)
    
    fmt.Printf("åŸŸåçŠ¶æ€: %s\n", status) // available, registered, unknown
    fmt.Printf("æ³¨å†Œå•†: %s\n", analyzer.ExtractRegistrar(result))
}
```

## ğŸ“Š æ€§èƒ½å»ºè®®

1. **å¹¶å‘æ•°è®¾ç½®**
   - å°æ‰¹é‡ï¼ˆ< 50 ä¸ªåŸŸåï¼‰ï¼šå¹¶å‘ 5-10
   - ä¸­ç­‰æ‰¹é‡ï¼ˆ50-500 ä¸ªï¼‰ï¼šå¹¶å‘ 10-20
   - å¤§æ‰¹é‡ï¼ˆ> 500 ä¸ªï¼‰ï¼šå¹¶å‘ 20-30ï¼Œå»ºè®®ä½¿ç”¨ä»£ç†

2. **è¶…æ—¶æ—¶é—´**
   - æ­£å¸¸ç½‘ç»œï¼š10 ç§’
   - è¾ƒæ…¢ç½‘ç»œï¼š15-20 ç§’
   - ä»£ç†ç½‘ç»œï¼š20-30 ç§’

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®çš„ WHOIS æŸ¥è¯¢åŠŸèƒ½å‚è€ƒäº† Python é¡¹ç›® [Pois](https://github.com/mirhmousavi/Pois) çš„å®ç°ã€‚

æ„Ÿè°¢æ‰€æœ‰å¼€æºè´¡çŒ®è€…ï¼

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“œ è®¸å¯è¯

MIT License

---

**æç¤ºï¼š** æœ¬å·¥å…·ä»…ä¾›åˆæ³•ç”¨é€”ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œ WHOIS æœåŠ¡å™¨çš„ä½¿ç”¨æ¡æ¬¾ã€‚

